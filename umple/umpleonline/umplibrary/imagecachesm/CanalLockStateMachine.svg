<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.48.0 (20210717.1556)
 -->
<!-- Title: CanalLockStateMachine Pages: 1 -->
<svg width="879pt" height="878pt"
 viewBox="0.00 0.00 879.00 878.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 874.4)">
<title>CanalLockStateMachine</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-874.4 875,-874.4 875,4 -4,4"/>
<!-- start_Lock_lockState -->
<g id="node1" class="node">
<title>start_Lock_lockState</title>
<g id="a_node1"><a xlink:title="Class Lock, SM lockState, State start">
<ellipse fill="black" stroke="black" cx="206" cy="-863.2" rx="7.2" ry="7.2"/>
</a>
</g>
</g>
<!-- Lock_lockState_BothDoorsClosedLockFull -->
<g id="node2" class="node">
<title>Lock_lockState_BothDoorsClosedLockFull</title>
<g id="a_node2"><a xlink:title="Class Lock, SM lockState, State BothDoorsClosedLockFull">
<path fill="none" stroke="black" d="M278,-819C278,-819 134,-819 134,-819 128,-819 122,-813 122,-807 122,-807 122,-795 122,-795 122,-789 128,-783 134,-783 134,-783 278,-783 278,-783 284,-783 290,-789 290,-795 290,-795 290,-807 290,-807 290,-813 284,-819 278,-819"/>
<text text-anchor="middle" x="206" y="-797.3" font-family="Times,serif" font-size="14.00">BothDoorsClosedLockFull</text>
</a>
</g>
</g>
<!-- start_Lock_lockState&#45;&gt;Lock_lockState_BothDoorsClosedLockFull -->
<g id="edge1" class="edge">
<title>start_Lock_lockState&#45;&gt;Lock_lockState_BothDoorsClosedLockFull</title>
<g id="a_edge1"><a xlink:title="start to BothDoorsClosedLockFull">
<path fill="none" stroke="black" d="M206,-855.76C206,-849.39 206,-839.2 206,-829.39"/>
<polygon fill="black" stroke="black" points="209.5,-829.1 206,-819.1 202.5,-829.1 209.5,-829.1"/>
</a>
</g>
</g>
<!-- Lock_lockState_OpeningUpperGate -->
<g id="node3" class="node">
<title>Lock_lockState_OpeningUpperGate</title>
<g id="a_node3"><a xlink:title="Class Lock, SM lockState, State OpeningUpperGate">
<path fill="none" stroke="black" d="M530,-732C530,-732 428,-732 428,-732 422,-732 416,-726 416,-720 416,-720 416,-708 416,-708 416,-702 422,-696 428,-696 428,-696 530,-696 530,-696 536,-696 542,-702 542,-708 542,-708 542,-720 542,-720 542,-726 536,-732 530,-732"/>
<text text-anchor="middle" x="479" y="-710.3" font-family="Times,serif" font-size="14.00">OpeningUpperGate</text>
</a>
</g>
</g>
<!-- Lock_lockState_BothDoorsClosedLockFull&#45;&gt;Lock_lockState_OpeningUpperGate -->
<g id="edge3" class="edge">
<title>Lock_lockState_BothDoorsClosedLockFull&#45;&gt;Lock_lockState_OpeningUpperGate</title>
<g id="a_edge3"><a xlink:title="From BothDoorsClosedLockFull to OpeningUpperGate on boatRequestsToEnterAndGoDown">
<path fill="none" stroke="black" d="M260.92,-782.9C305.25,-769.1 367.73,-749.65 414.45,-735.1"/>
<polygon fill="black" stroke="black" points="415.66,-738.39 424.17,-732.07 413.58,-731.7 415.66,-738.39"/>
</a>
</g>
<text text-anchor="middle" x="455.5" y="-753.8" font-family="Times,serif" font-size="14.00">boatRequestsToEnterAndGoDown</text>
</g>
<!-- Lock_lockState_LoweringWater -->
<g id="node6" class="node">
<title>Lock_lockState_LoweringWater</title>
<g id="a_node6"><a xlink:title="Class Lock, SM lockState, State LoweringWater">
<path fill="none" stroke="black" d="M279,-471C279,-471 199,-471 199,-471 193,-471 187,-465 187,-459 187,-459 187,-447 187,-447 187,-441 193,-435 199,-435 199,-435 279,-435 279,-435 285,-435 291,-441 291,-447 291,-447 291,-459 291,-459 291,-465 285,-471 279,-471"/>
<text text-anchor="middle" x="239" y="-449.3" font-family="Times,serif" font-size="14.00">LoweringWater</text>
</a>
</g>
</g>
<!-- Lock_lockState_BothDoorsClosedLockFull&#45;&gt;Lock_lockState_LoweringWater -->
<g id="edge8" class="edge">
<title>Lock_lockState_BothDoorsClosedLockFull&#45;&gt;Lock_lockState_LoweringWater</title>
<g id="a_edge8"><a xlink:title="From BothDoorsClosedLockFull to LoweringWater on boatRequestsToEnterAndGoUp">
<path fill="none" stroke="black" d="M121.91,-797.38C64.95,-790.57 0,-770.62 0,-715 0,-715 0,-715 0,-539 0,-501.49 105.85,-476.26 176.67,-463.58"/>
<polygon fill="black" stroke="black" points="177.6,-466.97 186.85,-461.8 176.39,-460.07 177.6,-466.97"/>
</a>
</g>
<text text-anchor="middle" x="89" y="-623.3" font-family="Times,serif" font-size="14.00">boatRequestsToEnterAndGoUp</text>
</g>
<!-- Lock_lockState_UpperGateOpen -->
<g id="node4" class="node">
<title>Lock_lockState_UpperGateOpen</title>
<g id="a_node4"><a xlink:title="Class Lock, SM lockState, State UpperGateOpen&#13;Entry:&#10; &#160;&#160;setBoatGoingUp(false);">
<path fill="none" stroke="black" d="M521,-645C521,-645 437,-645 437,-645 431,-645 425,-639 425,-633 425,-633 425,-621 425,-621 425,-615 431,-609 437,-609 437,-609 521,-609 521,-609 527,-609 533,-615 533,-621 533,-621 533,-633 533,-633 533,-639 527,-645 521,-645"/>
<text text-anchor="middle" x="479" y="-623.3" font-family="Times,serif" font-size="14.00">UpperGateOpen</text>
</a>
</g>
</g>
<!-- Lock_lockState_OpeningUpperGate&#45;&gt;Lock_lockState_UpperGateOpen -->
<g id="edge5" class="edge">
<title>Lock_lockState_OpeningUpperGate&#45;&gt;Lock_lockState_UpperGateOpen</title>
<g id="a_edge5"><a xlink:title="From OpeningUpperGate to UpperGateOpen on upperGateFullyOpen">
<path fill="none" stroke="black" d="M479,-695.8C479,-684.16 479,-668.55 479,-655.24"/>
<polygon fill="black" stroke="black" points="482.5,-655.18 479,-645.18 475.5,-655.18 482.5,-655.18"/>
</a>
</g>
<text text-anchor="middle" x="538.5" y="-666.8" font-family="Times,serif" font-size="14.00">upperGateFullyOpen</text>
</g>
<!-- Lock_lockState_ClosingUpperGate -->
<g id="node5" class="node">
<title>Lock_lockState_ClosingUpperGate</title>
<g id="a_node5"><a xlink:title="Class Lock, SM lockState, State ClosingUpperGate">
<path fill="none" stroke="black" d="M287.5,-558C287.5,-558 190.5,-558 190.5,-558 184.5,-558 178.5,-552 178.5,-546 178.5,-546 178.5,-534 178.5,-534 178.5,-528 184.5,-522 190.5,-522 190.5,-522 287.5,-522 287.5,-522 293.5,-522 299.5,-528 299.5,-534 299.5,-534 299.5,-546 299.5,-546 299.5,-552 293.5,-558 287.5,-558"/>
<text text-anchor="middle" x="239" y="-536.3" font-family="Times,serif" font-size="14.00">ClosingUpperGate</text>
</a>
</g>
</g>
<!-- Lock_lockState_UpperGateOpen&#45;&gt;Lock_lockState_ClosingUpperGate -->
<g id="edge6" class="edge">
<title>Lock_lockState_UpperGateOpen&#45;&gt;Lock_lockState_ClosingUpperGate</title>
<g id="a_edge6"><a xlink:title="From UpperGateOpen to ClosingUpperGate on boatInLockRequestingToGoDown&#13;Transition Action:&#10; &#160;&#160;&#160;&#160;setBoatGoingDown(true);">
<path fill="none" stroke="black" d="M424.74,-625.87C361.81,-624.44 263.65,-617.81 240,-591 234.59,-584.86 233.03,-576.47 233.21,-568.32"/>
<polygon fill="black" stroke="black" points="236.7,-568.6 234.22,-558.3 229.74,-567.9 236.7,-568.6"/>
</a>
</g>
<text text-anchor="middle" x="354.5" y="-579.8" font-family="Times,serif" font-size="14.00">boatInLockRequestingToGoDown / {...}</text>
</g>
<!-- Lock_lockState_UpperGateOpen&#45;&gt;Lock_lockState_ClosingUpperGate -->
<g id="edge7" class="edge">
<title>Lock_lockState_UpperGateOpen&#45;&gt;Lock_lockState_ClosingUpperGate</title>
<g id="a_edge7"><a xlink:title="From UpperGateOpen to ClosingUpperGate after(180000)&#13;Guard: &#160;[!boatBlockingGate]">
<path fill="none" stroke="black" d="M480.21,-608.82C479.99,-597.91 477.71,-584.31 469,-576 446.63,-554.64 368.72,-546.31 309.72,-543.07"/>
<polygon fill="black" stroke="black" points="309.85,-539.57 299.69,-542.55 309.49,-546.56 309.85,-539.57"/>
</a>
</g>
<text text-anchor="middle" x="575.5" y="-579.8" font-family="Times,serif" font-size="14.00">after(180000) [!boatBlockingGate]</text>
</g>
<!-- Lock_lockState_ClosingUpperGate&#45;&gt;Lock_lockState_BothDoorsClosedLockFull -->
<g id="edge2" class="edge">
<title>Lock_lockState_ClosingUpperGate&#45;&gt;Lock_lockState_BothDoorsClosedLockFull</title>
<g id="a_edge2"><a xlink:title="From ClosingUpperGate to BothDoorsClosedLockFull on upperGateFullyClosed&#13;Guard: &#160;[!boatGoingDown]">
<path fill="none" stroke="black" d="M233.4,-558.3C231.77,-563.9 230.12,-570.17 229,-576 215.46,-646.27 209.52,-730.59 207.24,-772.93"/>
<polygon fill="black" stroke="black" points="203.74,-772.83 206.72,-782.99 210.73,-773.18 203.74,-772.83"/>
</a>
</g>
<text text-anchor="middle" x="335" y="-666.8" font-family="Times,serif" font-size="14.00">upperGateFullyClosed [!boatGoingDown]</text>
</g>
<!-- Lock_lockState_ClosingUpperGate&#45;&gt;Lock_lockState_LoweringWater -->
<g id="edge9" class="edge">
<title>Lock_lockState_ClosingUpperGate&#45;&gt;Lock_lockState_LoweringWater</title>
<g id="a_edge9"><a xlink:title="From ClosingUpperGate to LoweringWater on upperGateFullyClosed&#13;Guard: &#160;[boatGoingDown]">
<path fill="none" stroke="black" d="M239,-521.8C239,-510.16 239,-494.55 239,-481.24"/>
<polygon fill="black" stroke="black" points="242.5,-481.18 239,-471.18 235.5,-481.18 242.5,-481.18"/>
</a>
</g>
<text text-anchor="middle" x="355.5" y="-492.8" font-family="Times,serif" font-size="14.00">upperGateFullyClosed [boatGoingDown]</text>
</g>
<!-- Lock_lockState_OpeningLowerGate -->
<g id="node8" class="node">
<title>Lock_lockState_OpeningLowerGate</title>
<g id="a_node8"><a xlink:title="Class Lock, SM lockState, State OpeningLowerGate">
<path fill="none" stroke="black" d="M301,-384C301,-384 197,-384 197,-384 191,-384 185,-378 185,-372 185,-372 185,-360 185,-360 185,-354 191,-348 197,-348 197,-348 301,-348 301,-348 307,-348 313,-354 313,-360 313,-360 313,-372 313,-372 313,-378 307,-384 301,-384"/>
<text text-anchor="middle" x="249" y="-362.3" font-family="Times,serif" font-size="14.00">OpeningLowerGate</text>
</a>
</g>
</g>
<!-- Lock_lockState_LoweringWater&#45;&gt;Lock_lockState_OpeningLowerGate -->
<g id="edge11" class="edge">
<title>Lock_lockState_LoweringWater&#45;&gt;Lock_lockState_OpeningLowerGate</title>
<g id="a_edge11"><a xlink:title="From LoweringWater to OpeningLowerGate on waterLevelMatchesDownStream">
<path fill="none" stroke="black" d="M241.02,-434.8C242.39,-423.16 244.23,-407.55 245.8,-394.24"/>
<polygon fill="black" stroke="black" points="249.29,-394.52 246.98,-384.18 242.33,-393.7 249.29,-394.52"/>
</a>
</g>
<text text-anchor="middle" x="336.5" y="-405.8" font-family="Times,serif" font-size="14.00">waterLevelMatchesDownStream</text>
</g>
<!-- Lock_lockState_BothDoorsClosedLockEmpty -->
<g id="node7" class="node">
<title>Lock_lockState_BothDoorsClosedLockEmpty</title>
<g id="a_node7"><a xlink:title="Class Lock, SM lockState, State BothDoorsClosedLockEmpty">
<path fill="none" stroke="black" d="M570.5,-123C570.5,-123 411.5,-123 411.5,-123 405.5,-123 399.5,-117 399.5,-111 399.5,-111 399.5,-99 399.5,-99 399.5,-93 405.5,-87 411.5,-87 411.5,-87 570.5,-87 570.5,-87 576.5,-87 582.5,-93 582.5,-99 582.5,-99 582.5,-111 582.5,-111 582.5,-117 576.5,-123 570.5,-123"/>
<text text-anchor="middle" x="491" y="-101.3" font-family="Times,serif" font-size="14.00">BothDoorsClosedLockEmpty</text>
</a>
</g>
</g>
<!-- Lock_lockState_BothDoorsClosedLockEmpty&#45;&gt;Lock_lockState_OpeningLowerGate -->
<g id="edge12" class="edge">
<title>Lock_lockState_BothDoorsClosedLockEmpty&#45;&gt;Lock_lockState_OpeningLowerGate</title>
<g id="a_edge12"><a xlink:title="From BothDoorsClosedLockEmpty to OpeningLowerGate on boatRequestsToEnterAndGoUp">
<path fill="none" stroke="black" d="M489.12,-123.03C485.56,-149.97 476.12,-203.43 454,-243 428.07,-289.38 417.41,-302.4 372,-330 357.09,-339.06 339.75,-345.86 322.87,-350.92"/>
<polygon fill="black" stroke="black" points="321.67,-347.62 313,-353.71 323.58,-354.36 321.67,-347.62"/>
</a>
</g>
<text text-anchor="middle" x="550" y="-231.8" font-family="Times,serif" font-size="14.00">boatRequestsToEnterAndGoUp</text>
</g>
<!-- Lock_lockState_RaisingWater -->
<g id="node11" class="node">
<title>Lock_lockState_RaisingWater</title>
<g id="a_node11"><a xlink:title="Class Lock, SM lockState, State RaisingWater">
<path fill="none" stroke="black" d="M525,-36C525,-36 457,-36 457,-36 451,-36 445,-30 445,-24 445,-24 445,-12 445,-12 445,-6 451,0 457,0 457,0 525,0 525,0 531,0 537,-6 537,-12 537,-12 537,-24 537,-24 537,-30 531,-36 525,-36"/>
<text text-anchor="middle" x="491" y="-14.3" font-family="Times,serif" font-size="14.00">RaisingWater</text>
</a>
</g>
</g>
<!-- Lock_lockState_BothDoorsClosedLockEmpty&#45;&gt;Lock_lockState_RaisingWater -->
<g id="edge16" class="edge">
<title>Lock_lockState_BothDoorsClosedLockEmpty&#45;&gt;Lock_lockState_RaisingWater</title>
<g id="a_edge16"><a xlink:title="From BothDoorsClosedLockEmpty to RaisingWater on boatRequestsToEnterAndGoDown">
<path fill="none" stroke="black" d="M491,-86.8C491,-75.16 491,-59.55 491,-46.24"/>
<polygon fill="black" stroke="black" points="494.5,-46.18 491,-36.18 487.5,-46.18 494.5,-46.18"/>
</a>
</g>
<text text-anchor="middle" x="588.5" y="-57.8" font-family="Times,serif" font-size="14.00">boatRequestsToEnterAndGoDown</text>
</g>
<!-- Lock_lockState_LowerGateOpen -->
<g id="node9" class="node">
<title>Lock_lockState_LowerGateOpen</title>
<g id="a_node9"><a xlink:title="Class Lock, SM lockState, State LowerGateOpen&#13;Entry:&#10; &#160;&#160;setBoatGoingDown(false);">
<path fill="none" stroke="black" d="M292,-297C292,-297 206,-297 206,-297 200,-297 194,-291 194,-285 194,-285 194,-273 194,-273 194,-267 200,-261 206,-261 206,-261 292,-261 292,-261 298,-261 304,-267 304,-273 304,-273 304,-285 304,-285 304,-291 298,-297 292,-297"/>
<text text-anchor="middle" x="249" y="-275.3" font-family="Times,serif" font-size="14.00">LowerGateOpen</text>
</a>
</g>
</g>
<!-- Lock_lockState_OpeningLowerGate&#45;&gt;Lock_lockState_LowerGateOpen -->
<g id="edge13" class="edge">
<title>Lock_lockState_OpeningLowerGate&#45;&gt;Lock_lockState_LowerGateOpen</title>
<g id="a_edge13"><a xlink:title="From OpeningLowerGate to LowerGateOpen on lowerGateFullyOpen">
<path fill="none" stroke="black" d="M249,-347.8C249,-336.16 249,-320.55 249,-307.24"/>
<polygon fill="black" stroke="black" points="252.5,-307.18 249,-297.18 245.5,-307.18 252.5,-307.18"/>
</a>
</g>
<text text-anchor="middle" x="308.5" y="-318.8" font-family="Times,serif" font-size="14.00">lowerGateFullyOpen</text>
</g>
<!-- Lock_lockState_ClosingLowerGate -->
<g id="node10" class="node">
<title>Lock_lockState_ClosingLowerGate</title>
<g id="a_node10"><a xlink:title="Class Lock, SM lockState, State ClosingLowerGate">
<path fill="none" stroke="black" d="M259.5,-210C259.5,-210 160.5,-210 160.5,-210 154.5,-210 148.5,-204 148.5,-198 148.5,-198 148.5,-186 148.5,-186 148.5,-180 154.5,-174 160.5,-174 160.5,-174 259.5,-174 259.5,-174 265.5,-174 271.5,-180 271.5,-186 271.5,-186 271.5,-198 271.5,-198 271.5,-204 265.5,-210 259.5,-210"/>
<text text-anchor="middle" x="210" y="-188.3" font-family="Times,serif" font-size="14.00">ClosingLowerGate</text>
</a>
</g>
</g>
<!-- Lock_lockState_LowerGateOpen&#45;&gt;Lock_lockState_ClosingLowerGate -->
<g id="edge14" class="edge">
<title>Lock_lockState_LowerGateOpen&#45;&gt;Lock_lockState_ClosingLowerGate</title>
<g id="a_edge14"><a xlink:title="From LowerGateOpen to ClosingLowerGate on boatInLockRequestingToGoUp&#13;Transition Action:&#10; &#160;&#160;&#160;&#160;setBoatGoingUp(true);">
<path fill="none" stroke="black" d="M244.28,-260.95C241.3,-251.1 237.05,-238.6 232,-228 230.58,-225.02 228.96,-221.98 227.26,-219"/>
<polygon fill="black" stroke="black" points="230.2,-217.09 222.02,-210.35 224.21,-220.72 230.2,-217.09"/>
</a>
</g>
<text text-anchor="middle" x="344" y="-231.8" font-family="Times,serif" font-size="14.00">boatInLockRequestingToGoUp / {...}</text>
</g>
<!-- Lock_lockState_LowerGateOpen&#45;&gt;Lock_lockState_ClosingLowerGate -->
<g id="edge15" class="edge">
<title>Lock_lockState_LowerGateOpen&#45;&gt;Lock_lockState_ClosingLowerGate</title>
<g id="a_edge15"><a xlink:title="From LowerGateOpen to ClosingLowerGate after(180000)&#13;Guard: &#160;[!boatBlockingGate]">
<path fill="none" stroke="black" d="M193.98,-277.01C136.4,-274.67 51.54,-267.11 31,-243 26.68,-237.93 26.76,-233.15 31,-228 44.72,-211.33 94.63,-202.49 138.26,-197.87"/>
<polygon fill="black" stroke="black" points="138.72,-201.34 148.33,-196.86 138.03,-194.37 138.72,-201.34"/>
</a>
</g>
<text text-anchor="middle" x="129.5" y="-231.8" font-family="Times,serif" font-size="14.00">after(180000) [!boatBlockingGate]</text>
</g>
<!-- Lock_lockState_ClosingLowerGate&#45;&gt;Lock_lockState_BothDoorsClosedLockEmpty -->
<g id="edge10" class="edge">
<title>Lock_lockState_ClosingLowerGate&#45;&gt;Lock_lockState_BothDoorsClosedLockEmpty</title>
<g id="a_edge10"><a xlink:title="From ClosingLowerGate to BothDoorsClosedLockEmpty on lowerGateFullyClosed&#13;Guard: &#160;[!boatGoingUp]">
<path fill="none" stroke="black" d="M220.79,-173.74C228.8,-162.49 240.76,-148.55 255,-141 306.53,-113.66 327.31,-131.62 385,-123 386.47,-122.78 387.95,-122.56 389.44,-122.33"/>
<polygon fill="black" stroke="black" points="390.02,-125.79 399.38,-120.82 388.96,-118.87 390.02,-125.79"/>
</a>
</g>
<text text-anchor="middle" x="365.5" y="-144.8" font-family="Times,serif" font-size="14.00">lowerGateFullyClosed [!boatGoingUp]</text>
</g>
<!-- Lock_lockState_ClosingLowerGate&#45;&gt;Lock_lockState_RaisingWater -->
<g id="edge17" class="edge">
<title>Lock_lockState_ClosingLowerGate&#45;&gt;Lock_lockState_RaisingWater</title>
<g id="a_edge17"><a xlink:title="From ClosingLowerGate to RaisingWater on lowerGateFullyClosed&#13;Guard: &#160;[boatGoingUp]">
<path fill="none" stroke="black" d="M195.12,-173.76C177.83,-151.57 154.17,-112.79 175,-87 207.04,-47.33 352.83,-29.72 434.73,-22.83"/>
<polygon fill="black" stroke="black" points="435.19,-26.31 444.87,-22.01 434.62,-19.33 435.19,-26.31"/>
</a>
</g>
<text text-anchor="middle" x="283" y="-101.3" font-family="Times,serif" font-size="14.00">lowerGateFullyClosed [boatGoingUp]</text>
</g>
<!-- Lock_lockState_RaisingWater&#45;&gt;Lock_lockState_OpeningUpperGate -->
<g id="edge4" class="edge">
<title>Lock_lockState_RaisingWater&#45;&gt;Lock_lockState_OpeningUpperGate</title>
<g id="a_edge4"><a xlink:title="From RaisingWater to OpeningUpperGate on waterLevelMatchesUpStream">
<path fill="none" stroke="black" d="M537.4,-21.58C588.79,-25.39 667.27,-34.31 689,-54 706.1,-69.5 703,-80.92 703,-104 703,-628 703,-628 703,-628 703,-660.89 617.53,-685.58 552.18,-699.65"/>
<polygon fill="black" stroke="black" points="551.36,-696.25 542.29,-701.73 552.8,-703.1 551.36,-696.25"/>
</a>
</g>
<text text-anchor="middle" x="787" y="-362.3" font-family="Times,serif" font-size="14.00">waterLevelMatchesUpStream</text>
</g>
</g>
</svg>
