<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.48.0 (20210717.1556)
 -->
<!-- Title: LibraryLoanStateMachine Pages: 1 -->
<svg width="537pt" height="516pt"
 viewBox="0.00 0.00 537.00 516.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 512.4)">
<title>LibraryLoanStateMachine</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-512.4 533,-512.4 533,4 -4,4"/>
<!-- start_Loan_state -->
<g id="node1" class="node">
<title>start_Loan_state</title>
<g id="a_node1"><a xlink:title="Class Loan, SM state, State start">
<ellipse fill="black" stroke="black" cx="122" cy="-501.2" rx="7.2" ry="7.2"/>
</a>
</g>
</g>
<!-- Loan_state_initial -->
<g id="node2" class="node">
<title>Loan_state_initial</title>
<g id="a_node2"><a xlink:title="Class Loan, SM state, State initial&#13;Entry:&#10; &#160;&#160;setDeadline(getLoanTime());&#10; &#160;&#160;setLoanStartTime(currentTime());">
<path fill="none" stroke="black" d="M146,-457C146,-457 98,-457 98,-457 92,-457 86,-451 86,-445 86,-445 86,-433 86,-433 86,-427 92,-421 98,-421 98,-421 146,-421 146,-421 152,-421 158,-427 158,-433 158,-433 158,-445 158,-445 158,-451 152,-457 146,-457"/>
<text text-anchor="middle" x="122" y="-435.3" font-family="Times,serif" font-size="14.00">initial</text>
</a>
</g>
</g>
<!-- start_Loan_state&#45;&gt;Loan_state_initial -->
<g id="edge1" class="edge">
<title>start_Loan_state&#45;&gt;Loan_state_initial</title>
<g id="a_edge1"><a xlink:title="start to initial">
<path fill="none" stroke="black" d="M122,-493.76C122,-487.39 122,-477.2 122,-467.39"/>
<polygon fill="black" stroke="black" points="125.5,-467.1 122,-457.1 118.5,-467.1 125.5,-467.1"/>
</a>
</g>
</g>
<!-- Loan_state_outstanding -->
<g id="node3" class="node">
<title>Loan_state_outstanding</title>
<g id="a_node3"><a xlink:title="Class Loan, SM state, State outstanding">
<path fill="none" stroke="black" d="M151,-384C151,-384 93,-384 93,-384 87,-384 81,-378 81,-372 81,-372 81,-360 81,-360 81,-354 87,-348 93,-348 93,-348 151,-348 151,-348 157,-348 163,-354 163,-360 163,-360 163,-372 163,-372 163,-378 157,-384 151,-384"/>
<text text-anchor="middle" x="122" y="-362.3" font-family="Times,serif" font-size="14.00">outstanding</text>
</a>
</g>
</g>
<!-- Loan_state_initial&#45;&gt;Loan_state_outstanding -->
<g id="edge2" class="edge">
<title>Loan_state_initial&#45;&gt;Loan_state_outstanding</title>
<g id="a_edge2"><a xlink:title="From initial to outstanding automatically">
<path fill="none" stroke="black" d="M122,-420.81C122,-412.79 122,-403.05 122,-394.07"/>
<polygon fill="black" stroke="black" points="125.5,-394.03 122,-384.03 118.5,-394.03 125.5,-394.03"/>
</a>
</g>
</g>
<!-- Loan_state_outstanding&#45;&gt;Loan_state_outstanding -->
<g id="edge3" class="edge">
<title>Loan_state_outstanding&#45;&gt;Loan_state_outstanding</title>
<g id="a_edge3"><a xlink:title="From outstanding to outstanding on extend&#13;Transition Action:&#10; &#160;&#160;&#160;&#160;setDeadline(getExtensionTime());">
<path fill="none" stroke="black" d="M163.08,-372.66C173.34,-372.19 181,-369.97 181,-366 181,-363.52 178.01,-361.72 173.26,-360.61"/>
<polygon fill="black" stroke="black" points="173.44,-357.1 163.08,-359.34 172.58,-364.05 173.44,-357.1"/>
</a>
</g>
<text text-anchor="middle" x="217.5" y="-362.3" font-family="Times,serif" font-size="14.00">extend / {...}</text>
</g>
<!-- Loan_state_recalled -->
<g id="node4" class="node">
<title>Loan_state_recalled</title>
<g id="a_node4"><a xlink:title="Class Loan, SM state, State recalled&#13;Entry:&#10; &#160;&#160;setDeadline(getDeadline() &#45; (currentTime() &#45; getLoanStartTime()));">
<path fill="none" stroke="black" d="M215,-297C215,-297 167,-297 167,-297 161,-297 155,-291 155,-285 155,-285 155,-273 155,-273 155,-267 161,-261 167,-261 167,-261 215,-261 215,-261 221,-261 227,-267 227,-273 227,-273 227,-285 227,-285 227,-291 221,-297 215,-297"/>
<text text-anchor="middle" x="191" y="-275.3" font-family="Times,serif" font-size="14.00">recalled</text>
</a>
</g>
</g>
<!-- Loan_state_outstanding&#45;&gt;Loan_state_recalled -->
<g id="edge4" class="edge">
<title>Loan_state_outstanding&#45;&gt;Loan_state_recalled</title>
<g id="a_edge4"><a xlink:title="From outstanding to recalled on recall&#13;Transition Action:&#10; &#160;&#160;&#160;&#160;sendRecallNotice();">
<path fill="none" stroke="black" d="M135.96,-347.8C145.88,-335.59 159.35,-318.99 170.48,-305.28"/>
<polygon fill="black" stroke="black" points="173.47,-307.15 177.06,-297.18 168.04,-302.73 173.47,-307.15"/>
</a>
</g>
<text text-anchor="middle" x="193" y="-318.8" font-family="Times,serif" font-size="14.00">recall / {...}</text>
</g>
<!-- Loan_state_overdue -->
<g id="node5" class="node">
<title>Loan_state_overdue</title>
<g id="a_node5"><a xlink:title="Class Loan, SM state, State overdue&#13;Entry:&#10; &#160;&#160;assessFine(); &#10; &#160;&#160;sendOverdueNotice();">
<path fill="none" stroke="black" d="M175,-210C175,-210 127,-210 127,-210 121,-210 115,-204 115,-198 115,-198 115,-186 115,-186 115,-180 121,-174 127,-174 127,-174 175,-174 175,-174 181,-174 187,-180 187,-186 187,-186 187,-198 187,-198 187,-204 181,-210 175,-210"/>
<text text-anchor="middle" x="151" y="-188.3" font-family="Times,serif" font-size="14.00">overdue</text>
</a>
</g>
</g>
<!-- Loan_state_outstanding&#45;&gt;Loan_state_overdue -->
<g id="edge5" class="edge">
<title>Loan_state_outstanding&#45;&gt;Loan_state_overdue</title>
<g id="a_edge5"><a xlink:title="From outstanding to overdue after(deadline)">
<path fill="none" stroke="black" d="M100.43,-347.68C77.84,-327.31 47.63,-292.3 63,-261 72.35,-241.96 89.88,-226.74 106.85,-215.57"/>
<polygon fill="black" stroke="black" points="108.99,-218.36 115.62,-210.09 105.28,-212.42 108.99,-218.36"/>
</a>
</g>
<text text-anchor="middle" x="104.5" y="-275.3" font-family="Times,serif" font-size="14.00">after(deadline)</text>
</g>
<!-- Loan_state_returned -->
<g id="node6" class="node">
<title>Loan_state_returned</title>
<g id="a_node6"><a xlink:title="Class Loan, SM state, State returned">
<path fill="none" stroke="black" d="M148,-36C148,-36 100,-36 100,-36 94,-36 88,-30 88,-24 88,-24 88,-12 88,-12 88,-6 94,0 100,0 100,0 148,0 148,0 154,0 160,-6 160,-12 160,-12 160,-24 160,-24 160,-30 154,-36 148,-36"/>
<text text-anchor="middle" x="124" y="-14.3" font-family="Times,serif" font-size="14.00">returned</text>
</a>
</g>
</g>
<!-- Loan_state_outstanding&#45;&gt;Loan_state_returned -->
<g id="edge8" class="edge">
<title>Loan_state_outstanding&#45;&gt;Loan_state_returned</title>
<g id="a_edge8"><a xlink:title="From outstanding to returned on returnitem">
<path fill="none" stroke="black" d="M80.7,-354.66C45.3,-343.03 0,-320.27 0,-280 0,-280 0,-280 0,-104 0,-64.76 42.78,-42.29 78.08,-30.43"/>
<polygon fill="black" stroke="black" points="79.32,-33.71 87.8,-27.36 77.21,-27.03 79.32,-33.71"/>
</a>
</g>
<text text-anchor="middle" x="29.5" y="-188.3" font-family="Times,serif" font-size="14.00">returnitem</text>
</g>
<!-- Loan_state_lost -->
<g id="node7" class="node">
<title>Loan_state_lost</title>
<g id="a_node7"><a xlink:title="Class Loan, SM state, State lost&#13;Entry:&#10; &#160;&#160;assessReplacementCost();">
<path fill="none" stroke="black" d="M355,-123C355,-123 307,-123 307,-123 301,-123 295,-117 295,-111 295,-111 295,-99 295,-99 295,-93 301,-87 307,-87 307,-87 355,-87 355,-87 361,-87 367,-93 367,-99 367,-99 367,-111 367,-111 367,-117 361,-123 355,-123"/>
<text text-anchor="middle" x="331" y="-101.3" font-family="Times,serif" font-size="14.00">lost</text>
</a>
</g>
</g>
<!-- Loan_state_outstanding&#45;&gt;Loan_state_lost -->
<g id="edge12" class="edge">
<title>Loan_state_outstanding&#45;&gt;Loan_state_lost</title>
<g id="a_edge12"><a xlink:title="From outstanding to lost on declareLost">
<path fill="none" stroke="black" d="M163.1,-361.48C240.9,-352.33 408.05,-320.16 477,-210 505.39,-164.65 429.8,-133.31 377.09,-117.61"/>
<polygon fill="black" stroke="black" points="377.79,-114.17 367.22,-114.77 375.86,-120.9 377.79,-114.17"/>
</a>
</g>
<text text-anchor="middle" x="496" y="-231.8" font-family="Times,serif" font-size="14.00">declareLost</text>
</g>
<!-- Loan_state_recalled&#45;&gt;Loan_state_overdue -->
<g id="edge6" class="edge">
<title>Loan_state_recalled&#45;&gt;Loan_state_overdue</title>
<g id="a_edge6"><a xlink:title="From recalled to overdue after(deadline)">
<path fill="none" stroke="black" d="M182.91,-260.8C177.32,-248.93 169.79,-232.93 163.45,-219.45"/>
<polygon fill="black" stroke="black" points="166.51,-217.73 159.08,-210.18 160.17,-220.71 166.51,-217.73"/>
</a>
</g>
<text text-anchor="middle" x="214.5" y="-231.8" font-family="Times,serif" font-size="14.00">after(deadline)</text>
</g>
<!-- Loan_state_recalled&#45;&gt;Loan_state_returned -->
<g id="edge9" class="edge">
<title>Loan_state_recalled&#45;&gt;Loan_state_returned</title>
<g id="a_edge9"><a xlink:title="From recalled to returned on returnitem">
<path fill="none" stroke="black" d="M162.62,-260.76C144.41,-248.5 121.38,-230.59 106,-210 90.49,-189.24 88.98,-181.43 84,-156 76.29,-116.63 94.33,-72.26 108.64,-44.96"/>
<polygon fill="black" stroke="black" points="111.78,-46.51 113.49,-36.05 105.63,-43.16 111.78,-46.51"/>
</a>
</g>
<text text-anchor="middle" x="113.5" y="-144.8" font-family="Times,serif" font-size="14.00">returnitem</text>
</g>
<!-- Loan_state_recalled&#45;&gt;Loan_state_lost -->
<g id="edge13" class="edge">
<title>Loan_state_recalled&#45;&gt;Loan_state_lost</title>
<g id="a_edge13"><a xlink:title="From recalled to lost on declareLost">
<path fill="none" stroke="black" d="M227.25,-278.24C275.99,-276.36 361.1,-264.86 401,-210 420.72,-182.88 391.35,-150.74 364.84,-129.44"/>
<polygon fill="black" stroke="black" points="366.81,-126.54 356.76,-123.19 362.53,-132.08 366.81,-126.54"/>
</a>
</g>
<text text-anchor="middle" x="440" y="-188.3" font-family="Times,serif" font-size="14.00">declareLost</text>
</g>
<!-- Loan_state_overdue&#45;&gt;Loan_state_overdue -->
<g id="edge7" class="edge">
<title>Loan_state_overdue&#45;&gt;Loan_state_overdue</title>
<g id="a_edge7"><a xlink:title="From overdue to overdue after(getFineIncrementInterval())">
<path fill="none" stroke="black" d="M187.09,-199.84C197.22,-199.49 205,-196.88 205,-192 205,-188.95 201.96,-186.79 197.21,-185.51"/>
<polygon fill="black" stroke="black" points="197.46,-182.01 187.09,-184.16 196.54,-188.95 197.46,-182.01"/>
</a>
</g>
<text text-anchor="middle" x="298.5" y="-188.3" font-family="Times,serif" font-size="14.00">after(getFineIncrementInterval())</text>
</g>
<!-- Loan_state_overdue&#45;&gt;Loan_state_returned -->
<g id="edge10" class="edge">
<title>Loan_state_overdue&#45;&gt;Loan_state_returned</title>
<g id="a_edge10"><a xlink:title="From overdue to returned on returnitem">
<path fill="none" stroke="black" d="M150.08,-173.83C149.45,-164.16 148.46,-151.88 147,-141 142.62,-108.25 135.23,-70.97 130.02,-46.33"/>
<polygon fill="black" stroke="black" points="133.38,-45.32 127.86,-36.28 126.54,-46.79 133.38,-45.32"/>
</a>
</g>
<text text-anchor="middle" x="173.5" y="-101.3" font-family="Times,serif" font-size="14.00">returnitem</text>
</g>
<!-- Loan_state_overdue&#45;&gt;Loan_state_lost -->
<g id="edge14" class="edge">
<title>Loan_state_overdue&#45;&gt;Loan_state_lost</title>
<g id="a_edge14"><a xlink:title="From overdue to lost on declareLost">
<path fill="none" stroke="black" d="M187.43,-173.8C215.82,-160.39 255.4,-141.7 285.81,-127.34"/>
<polygon fill="black" stroke="black" points="287.39,-130.47 294.94,-123.03 284.4,-124.14 287.39,-130.47"/>
</a>
</g>
<text text-anchor="middle" x="284" y="-144.8" font-family="Times,serif" font-size="14.00">declareLost</text>
</g>
<!-- Loan_state_lost&#45;&gt;Loan_state_returned -->
<g id="edge11" class="edge">
<title>Loan_state_lost&#45;&gt;Loan_state_returned</title>
<g id="a_edge11"><a xlink:title="From lost to returned on returnitem&#13;Transition Action:&#10; &#160;&#160;&#160;&#160;refundReplacementCost();">
<path fill="none" stroke="black" d="M294.94,-89.19C260.28,-74.96 207.74,-53.39 170.06,-37.91"/>
<polygon fill="black" stroke="black" points="170.92,-34.48 160.34,-33.92 168.26,-40.96 170.92,-34.48"/>
</a>
</g>
<text text-anchor="middle" x="286" y="-57.8" font-family="Times,serif" font-size="14.00">returnitem / {...}</text>
</g>
</g>
</svg>
