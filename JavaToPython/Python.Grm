include "Java.Grm"

redefine boolean_operator
    ...
    |'and
    | 'or
end redefine

redefine comparator
    ...
    |   'is
end redefine


redefine nested_identifier
    ...
    |   'self
end redefine
redefine assignment
    ...
    |   [nested_identifier] '= [value] [NL]
end redefine

redefine condition_element
     'True
    | 'False
    | ...
end redefine
redefine statement
    ...
    |   [function_call] [NL]
    | 'pass
end redefine

redefine stmt_return
    ...
    |   'return [value] [NL]
end redefine

redefine value
    ...
    |   'None
end redefine

redefine for_loop
    ...
    |'for( [id] 'in [nested_identifier] '): [NL] [IN] [repeat statement] [EX] [NL]
end redefine

redefine while_loop
    ...
    | 'while [boolean_expression] ': [NL] [IN] [repeat statement] [EX] [NL]
end redefine

redefine if 
    ... 
    |   'if [boolean_expression] ': [NL] [IN] [repeat statement] [EX] [NL]
end redefine

redefine else_if
    ...
    |   'elif [boolean_expression] ': [NL] [IN] [repeat statement] [EX] [NL]
end redefine

redefine else
    ...
    |   'else:  [NL] [IN] [repeat statement] [EX] [NL]
end redefine

redefine boolean_expression
    ...
    |   'not [boolean_expression]
end redefine

redefine method_parameter
    ...
    | [id]
end redefine

define decorator
    '@ [SPOFF] [id] [SPON] [NL]
end define
redefine method_declaration
    ...
    |   [opt decorator] 'def  [id] [SPOFF]'(self, [SPON] [list id] [SPOFF] '): [SPON] [NL] [IN] [repeat statement] [NL] [EX] [NL]
    |   [opt decorator] 'def  [id] [SPOFF]'(self): [SPON] [NL] [IN] [repeat statement] [NL] [EX] [NL]
    |   [opt decorator] 'def  [id] [SPOFF]'(): [SPON] [NL] [IN] [repeat statement] [NL] [EX] [NL]
end redefine

redefine constructor
    ...
    | 'def '__init__ [SPOFF] '(self, [SPON] [list id] [SPOFF]'): [SPON] [NL] [IN] [repeat statement] [NL] [EX] [NL]
    | 'def '__init__ [SPOFF] '(self): [SPON] [NL] [IN] [repeat statement] [NL] [EX] [NL]
end redefine

redefine class_declaration
    ... 
    | 'class [class_name] [SPOFF] ': [SPON] [NL] [IN] [class_body_decl] [NL] [EX] [NL]
end redefine

redefine class_body_decl
    ...
    | 'pass
    | [opt constructor] [repeat method_declaration]
end define

redefine variable_declaration
    ...
    |   [assignment] [FL]
    |   [nested_identifier]
end define